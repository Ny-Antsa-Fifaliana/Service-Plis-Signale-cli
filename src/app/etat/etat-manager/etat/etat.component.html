

<div class="container-fluid bg-white">
   
        <div class="container p-5">

            <div class="p-3 mb-5" style="background-color: #f7f7f7;">
                <div>
                    <span style="color: grey;"> 
                        <a routerLink="/sps/depotagence" style="text-decoration: none; color: grey;">DÉPÔT PARTENAIRE ( {{nbDepotagence}} )</a>
                        <span style="margin-left: 20px;margin-right: 20px;">></span> 
                        
                        <a routerLink={{lienDepotprovince}} style="text-decoration: none; color: grey;">RÉPARTITION DIRPM ( {{nbDepotprovince}} )</a>
                        <span style="margin-left: 20px;margin-right: 20px;">></span> 
                        
                        <a routerLink={{lienDepotzone}} style="text-decoration: none; color: grey;">RÉPARTITION AGENCE ( {{currentDepot.nbDepot}} )</a>
                        <span style="margin-left: 20px;margin-right: 20px;">></span> 
                        ÉTAT
                    </span>
                </div> 
            </div>
        
            <div class="row">
                <div class="col-xxl-7 col-xl-7 col-lg-7 col-md-7 col-sm-7">
                    <fieldset class="border rounded-3 p-3">
                        <legend  class="float-none w-auto px-3" style="color: grey;" >
                                Etat à {{nomZoneActuel}}
                        </legend> 
                        <mat-card class="mb-3 p-3" style="background-color: #f2f2f2;font-family: Segoe UI; font-size: 14px;">
                            <h3 style="color: grey; ">Nombre de répartition : <span style="color: green; "><strong>{{currentDepot.nbDepot}}</strong></span></h3> 
                            <div class="table-responsive">
                                <table class="table table-striped ">
                                    <thead>
                                        <tr style="color: grey;">
                                            <th>Livree Actuel</th>
                                            <th>Retour Actuel</th>
                                            <th>Instance Actuel</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr style="font-size: 14px;">
                                            <td style="color: green;"><strong>{{L}}</strong></td>
                                            <td style="color: orange;"><strong>{{R}}</strong></td>
                                            <td style="color: red;"><strong>{{I}}</strong></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            
                        </mat-card>
                        
                        <div class="container-fluid">
                            <div class="row">
                                <button mat-raised-button type="button" class=" col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-6 btn mat-elevation-z8" style="font-family: Segoe UI;background-color: #3CB371; color: white;" (click)="viewLivreeOfEtat()" >Détails Livrées</button>
                                <button mat-raised-button type="button" class=" col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-6 btn mat-elevation-z8 " style="font-family: Segoe UI ; background-color: #FFA500;color: white;" (click)="viewRetourOfEtat()" >Détails Retours</button>
                            </div>
                        </div>
                       
                         
                    
            
                  </fieldset>  
                </div>
                 
                 <app-radial-bar-etat [listes]="listes" [bool]="bool" class="col-xxl-4 col-xl-4 col-lg-4 col-md-4 col-sm-4 ml-5 mt-5 w3-animate-right"></app-radial-bar-etat>
                
            </div>
        </div>
        <mat-card class="p-4 table-responsive">
            <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" id="dtTableEtat" class="table table-striped table-bordered shadow">
                <thead>
                    <tr>
                        <th scope="col">No.</th>
                        <th scope="col">Mvt Livree</th>
                        <th scope="col">Mvt Retour</th>
                        <th scope="col">Livree</th>
                        <th scope="col">Retour</th>
                        <th scope="col">Instance</th>
                        <th scope="col">Date</th>
                        <th scope="col">Heure</th>
                    </tr>
                </thead>
    
                <tbody>
                    <tr *ngFor="let etat of currentDepot.etatByDepot_list; let i=index ; " style="font-family: Segoe UI; font-size:14px;">
                            <td style="color: grey;">{{i+1}}</td>
                            <td>{{etat.mvtLivree}}</td>
                            <td>{{etat.mvtRetour}}</td>
                            <td style="color: green;">{{etat.nbLivree}}</td>
                            <td style="color: orange;">{{etat.nbRetour}}</td>
                            <td style="color: red;;">{{etat.nbInstance}}</td>
                            <td>{{etat.dateEtat | date}}</td>
                            <td>{{etat.timeEtat}}</td>
                    </tr>
                 
                    <tr style="background-color: #dcdcdc;">
                        <th>Etat actuel :</th>
                        <td></td>
                        <td></td>
                        <td style="color: grey;">Livrées : {{L}}</td>
                        <td style="color: grey;">Retours : {{R}}</td>
                        <td style="color: grey;">Instances : {{I}}</td>
                        <td></td>
                        <td></td>
                    </tr>
                </tbody>
    
            </table>
        </mat-card>
        



</div>  